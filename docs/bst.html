<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>bst</title>
</head>

<body>
<input id='key' type="text">
<button id="btnFresh">刷新</button>
<button id="btnInsert">插入</button>
<button id="btnRemove">移除</button>
<button id="btnRemoveMin">删除最小</button>
<canvas id="myCanvas"></canvas>
<script src="js/utils/utils.js"></script>
<script src="js/utils/canvas.js"></script>
<script src="js/bst/bst.js"></script>
<script src="js/bst/ball-bst.js"></script>

<script>

    var freshBST = function (n) {
        var bst = new BallBST(stage);
        for (var i = 0; i < n; i++) {
            var x = getRandom(n)
            while (bst.search(x)) {
                x = getRandom(n)
            }
            bst.insert(x, getRandom(n * 100))
        }
        bst.reDraw()
        return bst;
    };
    var testBst = freshBST(15)


    function bindAll(selectors, eventName, callback) {
        elems = document.querySelectorAll(selectors)
        for (var e of elems) {
            e.addEventListener(eventName, function (event) {
                callback(event)
            })
        }
    }
    bindAll('button', 'click', function (event) {
        var id = event.target.id
        var num = parseInt(document.querySelector('#key').value)
        if (id === 'btnFresh') {
            testBst=freshBST(15)
        }
        if (id === 'btnInsert') {
            testBst.insert(num, getRandom(100))
            testBst.reDraw()

        }
        if (id === 'btnRemove') {
            testBst.removeBall(num)
        }
        if (id === 'btnRemoveMin') {
            testBst.removeMinBall()
        }


    })

</script>
</body>

</html>